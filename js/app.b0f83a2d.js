(function(e){function t(t){for(var r,i,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},s={app:0},n=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0079":function(e,t,a){"use strict";var r=a("4c37"),s=a.n(r);s.a},"12da":function(e,t,a){e.exports=a.p+"img/empty-table.ad115dd1.png"},"159d":function(e,t,a){"use strict";var r=a("55b1"),s=a.n(r);s.a},"1cff":function(e,t,a){},"1f33":function(e,t,a){},"25ea":function(e,t,a){"use strict";var r=a("4baa"),s=a.n(r);s.a},"26f9":function(e,t,a){},"2d08":function(e,t,a){"use strict";var r=a("6795"),s=a.n(r);s.a},"49f8":function(e,t,a){var r={"./en.json":"edd4"};function s(e){var t=n(e);return a(t)}function n(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=n,e.exports=s,s.id="49f8"},"4baa":function(e,t,a){},"4c37":function(e,t,a){},5313:function(e,t,a){},"55b1":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view"),a("loading-bar",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]})],1)},n=[],i=(a("ac1f"),a("5319"),a("b0c0"),a("d3b7"),a("bc3a")),o=a.n(i),l="authtoken",c="SHOW_LOADING",u="HIDE_LOADING",d="https://viruscorona.co.in";o.a.defaults.baseURL=d,o.a.defaults.headers["content-type"]="application/json";var p=function(){window.dispatchEvent(new CustomEvent(c))},m=function(){window.dispatchEvent(new CustomEvent(u))};o.a.interceptors.request.use((function(e){return p(),e}),(function(e){return m(),Promise.reject(e)})),o.a.interceptors.response.use((function(e){return m(),e}),(function(e){return m(),Promise.reject(e)}));var f={isSessionValid:function(){var e=localStorage.getItem("expiry");return localStorage.getItem(l)&&e&&new Date(e)>Date.now()},signIn:function(e,t){return o.a.post("/signin",{email:e,password:t})},createAccount:function(e){var t=e.name,a=e.email,r=e.password,s=e.orgID,n=e.orgName;return o.a.post("/createAccount",{name:t,email:a,password:r,orgID:s,orgName:n})},verifyOTP:function(e){var t=e.emailId,a=e.otp;return o.a.post("/verifyOTP",{identifier:t,accountIdentifierType:"email",otp:a})},getAllOrders:function(){return o.a.post("/getAllOrders",{authToken:localStorage.getItem(l)})},approveOrder:function(e,t){return o.a.post("/approveOrder",{orderID:e,orderAction:t,authToken:localStorage.getItem(l)})},approveAccount:function(e){return o.a.post("/approveAccount",{email:e,authToken:localStorage.getItem(l)})},downloadQRCodes:function(e){return o.a.post("/downloadQRCodes",{orderID:e,authToken:localStorage.getItem(l)})},downloadOrderFile:function(e){return o.a.post("/downloadOrderFile",{orderID:e,authToken:localStorage.getItem(l)})},getSignUpRequests:function(){return o.a.post("/getAllAccountsPendingVerification",{authToken:localStorage.getItem(l)})}},g=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},b=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"progress"},[a("div",{staticClass:"indeterminate"})])}],v={name:"LoadingBar"},h=v,w=(a("b088"),a("2877")),x=Object(w["a"])(h,g,b,!1,null,"dc22b5ea",null),C=x.exports,y={name:"App",components:{LoadingBar:C},data:function(){return{loading:!1}},created:function(){var e=this;"/signup"===this.$route.path||f.isSessionValid()||this.$router.replace("/signup"),window.addEventListener(c,(function(){return e.loading=!0})),window.addEventListener(u,(function(){return e.loading=!1}))}},k=y,A=Object(w["a"])(k,s,n,!1,null,null,null),R=A.exports,P=a("9483");Object(P["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh."),window.location.reload(!0)},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var O=a("8c4f"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("app-header"),a("div",{staticClass:"app-body"},[a("b-tabs",{staticClass:"block",attrs:{size:"is-medium"}},[a("b-tab-item",{attrs:{label:"Organizations"}},[a("organization-tab-item")],1),a("b-tab-item",{attrs:{disabled:"",label:"Individuals"}},[a("individual-tab-item")],1)],1)],1)],1)},I=[],D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-navbar",[r("template",{slot:"brand"},[r("b-navbar-item",{attrs:{to:{path:"/"},tag:"router-link"}},[r("img",{attrs:{alt:"iPass Logo",src:a("cf05")}})])],1),r("template",{slot:"start"},[r("div",{staticClass:"is-flex ai-center"},[r("div",{staticClass:"seperator"}),r("div",{staticClass:"title is-4"},[e._v("Approver Dashboard")])])]),r("template",{slot:"end"},[r("b-navbar-item",{attrs:{tag:"div"}},[r("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[r("button",{staticClass:"button is-outlined",attrs:{slot:"trigger"},slot:"trigger"},[r("span",[e._v(e._s(e.selectedLang))]),r("b-icon",{attrs:{icon:"menu-down"}})],1),e._l(e.langs,(function(t,a){return r("b-dropdown-item",{key:a,attrs:{"aria-role":"listitem"}},[e._v(e._s(t))])}))],2),r("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[r("button",{staticClass:"button is-outlined",attrs:{slot:"trigger"},slot:"trigger"},[r("span",[e._v("Account")]),r("b-icon",{attrs:{icon:"menu-down"}})],1),r("b-dropdown-item",{attrs:{disabled:""}},[r("b",[e._v("Logged in as "+e._s(e.userInfo.accountName))]),r("p",[e._v(e._s(e.userInfo.email))])]),r("hr",{staticClass:"dropdown-divider"}),r("b-dropdown-item",{attrs:{disabled:""}},[r("div",{staticClass:"is-flex dropdown-menu-item"},[r("b-icon",{attrs:{icon:"account"}}),r("span",[e._v("Staff Members")])],1)]),r("b-dropdown-item",{attrs:{"aria-role":"menuitem",value:"logout"},on:{click:e.logout}},[r("div",{staticClass:"is-flex dropdown-menu-item"},[r("b-icon",{attrs:{icon:"logout"}}),r("span",[e._v("Sign out")])],1)])],1)],1)],1)],2)],1)},S=[],j={name:"AppHeader",data:function(){return{selectedLang:"En",langs:["Hi"],userInfo:JSON.parse(localStorage.getItem("userInfo"))}},methods:{logout:function(){localStorage.clear(),window.location.reload()}}},E=j,T=(a("7b0e"),Object(w["a"])(E,D,S,!1,null,null,null)),q=T.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"is-flex jc-space-between"},[a("div",{staticClass:"is-flex"},[a("b-field",[a("b-radio-button",{attrs:{"native-value":"pass"},model:{value:e.requestType,callback:function(t){e.requestType=t},expression:"requestType"}},[a("span",[e._v("Pass Request")])]),a("b-radio-button",{attrs:{"native-value":"signup"},model:{value:e.requestType,callback:function(t){e.requestType=t},expression:"requestType"}},[a("span",[e._v("Sign Up Request")])])],1)],1),a("div",{staticClass:"is-flex"},[a("transition",{attrs:{name:"fade"}},["pass"===e.requestType?a("b-field",{attrs:{grouped:""}},[a("p",{staticClass:"control"},[a("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"},scopedSlots:e._u([{key:"trigger",fn:function(t){var r=t.active;return a("button",{staticClass:"button"},[a("span",[e._v("Filter")]),a("b-icon",{attrs:{icon:r?"menu-up":"menu-down"}})],1)}}],null,!1,3103357982)},[a("b-dropdown-item",{attrs:{"aria-role":"listitem",value:""}},[e._v("Action")]),a("b-dropdown-item",{attrs:{"aria-role":"listitem",value:""}},[e._v("Another action")]),a("b-dropdown-item",{attrs:{"aria-role":"listitem",value:""}},[e._v("Something else")])],1)],1),a("b-field",[a("b-input",{attrs:{icon:"magnify","icon-clickable":"",placeholder:"Search...",type:"search"}})],1)],1):e._e()],1)],1)]),a("br"),a("transition",{attrs:{mode:"out-in",name:"fade"}},["pass"===e.requestType?a("pass-request-table"):a("sign-up-request-table")],1)],1)},z=[],N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{mode:"out-in",name:"fade"}},[e.orderList.length?a("b-table",{attrs:{"checked-rows":e.checkedRows,"current-page":e.currentPage,data:e.orderList,"default-sort-direction":e.defaultSortDirection,"is-row-checkable":function(e){return"created"===e.orderStatus},paginated:e.isPaginated,"pagination-position":e.paginationPosition,"pagination-simple":e.isPaginationSimple,"per-page":e.perPage,"sort-icon":e.sortIcon,"sort-icon-size":e.sortIconSize,checkable:"","checkbox-position":"left"},on:{"update:checkedRows":function(t){e.checkedRows=t},"update:checked-rows":function(t){e.checkedRows=t},"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"createdAt",label:"Raised on",sortable:""}},[a("div",{staticClass:"has-text-dark is-size-6"},[e._v(" "+e._s(e._f("formatDate")(t.row.createdAt))+" ")]),a("div",{staticClass:"has-text-grey is-size-6"},[e._v(" "+e._s(e._f("formatTime")(t.row.createdAt))+" ")])]),a("b-table-column",{attrs:{field:"orgName",label:"Organization",sortable:""}},[e._v(e._s(t.row.orgName))]),a("b-table-column",{attrs:{field:"requester",label:"Contact Email",sortable:""}},[a("div",{staticClass:"has-text-dark is-size-6"},[e._v(" "+e._s(t.row.requester)+" ")])]),a("b-table-column",{attrs:{field:"orderType",label:"Pass Type",sortable:""}},[a("lozenge",{attrs:{type:"person"==t.row.orderType?"primary":"warning"}},[e._v(" "+e._s(e._f("formatRequestLabel")(t.row.orderType))+" ")])],1),a("b-table-column",{attrs:{field:"requestCount",label:"No. of Passes",numeric:"",sortable:""}},[e._v(e._s(t.row.requestCount))]),a("b-table-column",{attrs:{field:"status",label:"Status",sortable:""}},[a("span",{staticClass:"has-text-weight-bold is-uppercase",class:"has-text-"+e.getStatusClass(t.row.orderStatus)},[e._v(" "+e._s(e._f("formatStatusLabel")(t.row.orderStatus))+" ")])]),a("b-table-column",{attrs:{label:" "}},[a("b-dropdown",{attrs:{disabled:!!t.row.orderStatus.match("declined|approved"),"aria-role":"list",position:"is-bottom-left"}},[a("button",{staticClass:"button is-small is-white",attrs:{slot:"trigger"},slot:"trigger"},[a("b-icon",{attrs:{icon:"dots-vertical"}})],1),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(a){return e.downloadOrderFile(t.row.id)}}},[a("div",{staticClass:"is-flex dropdown-menu-item"},[a("b-icon",{attrs:{icon:"file",type:"is-primary"}}),a("span",[e._v("View Requests")])],1)]),"created"===t.row.orderStatus?[a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(a){return e.approveRequest(t.row.id)}}},[a("div",{staticClass:"is-flex dropdown-menu-item"},[a("b-icon",{attrs:{icon:"check-circle-outline",type:"is-success"}}),a("span",[e._v("Approve")])],1)]),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(a){return e.handleDecline(t.row.id)}}},[a("div",{staticClass:"is-flex dropdown-menu-item"},[a("b-icon",{attrs:{icon:"close-circle-outline",type:"is-danger"}}),a("span",[e._v("Decline")])],1)])]:e._e(),"processed"===t.row.orderStatus?[a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(a){return e.downloadQRCodes(t.row.id)}}},[a("div",{staticClass:"is-flex dropdown-menu-item"},[a("b-icon",{attrs:{icon:"download",type:"is-primary"}}),a("span",[e._v("Download Details")])],1)])]:e._e()],2)],1)]}}],null,!1,1997652616)},[a("template",{slot:"bottom-left"},[a("span",{staticClass:"is-size-7 has-text-weight-bold m-r-8"},[e._v("Request per page:")]),a("b-select",{attrs:{placeholder:"Select a character",size:"is-small"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}},e._l([10,25,50],(function(t,r){return a("option",{key:r,domProps:{value:t}},[e._v(e._s(t))])})),0)],1)],2):a("empty-table")],1),a("transition",{attrs:{name:"slideInBottom"}},[e.checkedRows.length>0?a("pass-table-action-sheet",{on:{approve:e.approveAll,decline:e.handleDeclineAll}}):e._e()],1),a("b-modal",{attrs:{active:e.showDeclineModal,"has-modal-card":""},on:{"update:active":function(t){e.showDeclineModal=t}}},[a("div",{staticClass:"modal-card decline-modal",staticStyle:{width:"480px"}},[a("div",{staticClass:"modal-card-body is-rounded"},[a("p",{staticClass:"title is-5"},[e._v("Enter Reason")]),a("p",{staticClass:"subtitle is-7"},[e._v(" Let the applicant know why their request is being rejected ")]),a("b-field",[a("b-input",{attrs:{maxlength:"400",type:"textarea"},model:{value:e.declineReason,callback:function(t){e.declineReason=t},expression:"declineReason"}})],1),a("div",{staticClass:"is-flex jc-flex-end"},[a("div",{staticClass:"buttons"},[a("b-button",{attrs:{outlined:"",type:"is-primary"},on:{click:function(t){e.declineMultiple=e.showDeclineModal=!1}}},[e._v("Cancel")]),a("b-button",e._g({attrs:{disabled:!e.declineReason,type:"is-primary"}},{click:e.declineMultiple?e.submitReasonForMultiple:e.submitReason}),[e._v("Submit")])],1)])],1)])]),a("b-modal",{attrs:{active:e.showProgess,"has-modal-card":""}},[a("div",{staticClass:"modal-card"},[a("div",{staticClass:"modal-card-body is-rounded"},[a("p",{staticClass:"title is-4"},[e._v("Submitting Requests")]),a("b-progress",{attrs:{value:e.reqProgess,"show-value":"",type:"is-success"}},[e._v(" "+e._s(e.reqIndex)+" out of "+e._s(e.checkedRows.length)+" ")])],1)])])],1)},L=[],M=(a("d81d"),a("96cf"),a("1da1")),Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"is-inline-block lozenge-bg",class:["has-background-"+e.type]},[a("div",{staticClass:"whiter-bg is-inline-block"},[a("div",{staticClass:"is-inline-block lozenge-text is-size-7 has-text-centered is-uppercase has-text-weight-semibold",class:["has-text-"+e.type]},[e._t("default")],2)])])},B=[],F={name:"Lozenge",props:{type:{type:String,required:!0,default:"primary"}}},V=F,K=(a("8d79"),Object(w["a"])(V,Q,B,!1,null,null,null)),Y=K.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bottom-sheet"},[e._m(0),a("div",{},[a("div",{staticClass:"buttons"},[a("b-button",{attrs:{"icon-left":"close-circle-outline",outlined:"",type:"is-danger"},on:{click:function(t){return e.$emit("decline")}}},[e._v("Decline Requests")]),a("b-button",{attrs:{"icon-left":"check-circle-outline",type:"is-primary"},on:{click:function(t){return e.$emit("approve")}}},[e._v("Approve Requests")])],1)])])},G=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("p",{staticClass:"is-size-6 has-text-weight-bold"},[e._v("Select a Bulk Action")]),a("p",{staticClass:"is-size-7"},[e._v(" Action will apply to all the selected items in the list ")])])}],H={name:"PassTableActionSheet"},W=H,Z=(a("fda3"),Object(w["a"])(W,J,G,!1,null,null,null)),X=Z.exports,$=a("5a0c"),ee=a.n($),te=a("aced"),ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;te["a"].open({duration:t,message:e,position:"is-top",type:"is-success"})},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;te["a"].open({duration:t,message:e,position:"is-top",type:"is-danger"})},se=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ne=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"empty-table"},[r("img",{attrs:{alt:"",src:a("12da"),width:"400"}}),r("div",{staticClass:"title is-3"},[e._v(" There are no pending requests to be processed! ")])])}],ie={name:"EmptyTable"},oe=ie,le=(a("b154"),Object(w["a"])(oe,se,ne,!1,null,null,null)),ce=le.exports,ue={name:"PassRequestTable",components:{PassTableActionSheet:X,Lozenge:Y,EmptyTable:ce},data:function(){var e=localStorage.getItem("orderList");return e&&(e=JSON.parse(e)),{orderList:e||[],checkedRows:[],showDeclineModal:!1,declineReason:"",declineOrderId:null,declineMultiple:!1,isPaginated:!0,isPaginationSimple:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,reqIndex:1,showProgess:!1}},computed:{reqProgess:function(){return Math.ceil(this.reqIndex/this.checkedRows.length*100)}},filters:{formatDate:function(e){return ee()(new Date(e)).format("DD MMM YY")},formatTime:function(e){return ee()(new Date(e)).format("hh:mm A")},formatRequestLabel:function(e){return"person"===e.toLowerCase()?"Individual":"Vehicle"},formatStatusLabel:function(e){return"created"===e.toLowerCase()?"PENDING":"declined"===e.toLowerCase()?"REJECTED":e}},methods:{fetchAllOrders:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.getAllOrders();case 3:a=t.sent,r=a.data,e.orderList=r.orders,localStorage.setItem("orderList",JSON.stringify(r.orders)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),re("Unable to fetch requests");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},approveRequest:function(e){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.approveOrder(e,"ACCEPT");case 3:return a.next=5,t.fetchAllOrders();case 5:ae("Request Approved!"),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),re("Unable to approve request");case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},declineRequest:function(e){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.approveOrder(e,"DECLINE");case 3:return a.next=5,t.fetchAllOrders();case 5:t.declineOrderId=null,ae("Request Rejected!"),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),re("Unable to reject request");case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},approveAll:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e.showProgess=!0,a=e.checkedRows.map((function(e){return e.id})),r=0;case 4:if(!(r<a.length)){t.next=12;break}return e.reqIndex=r+1,s=a[r],t.next=9,f.approveOrder(s,"ACCEPT");case 9:r++,t.next=4;break;case 12:return t.next=14,e.fetchAllOrders();case 14:e.checkedRows=[],e.showProgess=!1,ae("All Request Approved!"),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](0),re("Unable to approve requests");case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))()},declineAll:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e.showProgess=!0,a=e.checkedRows.map((function(e){return e.id})),r=0;case 4:if(!(r<a.length)){t.next=12;break}return e.reqIndex=r+1,s=a[r],t.next=9,f.approveOrder(s,"DECLINE");case 9:r++,t.next=4;break;case 12:return t.next=14,e.fetchAllOrders();case 14:e.checkedRows=[],e.showProgess=!1,ae("All Request Rejected!"),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](0),re("Unable to reject requests");case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))()},downloadQRCodes:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.downloadQRCodes(e);case 3:a=t.sent,r=a.data,s=r.processedS3URL,n=document.createElement("a"),n.setAttribute("download","download"),n.href=s,n.click(),ae("QR codes downloaded successfully"),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),re("Unable to download QR codes");case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},downloadOrderFile:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.downloadOrderFile(e);case 3:a=t.sent,r=a.data,s=r.processedS3URL,n=document.createElement("a"),n.setAttribute("download","download"),n.href=s,n.click(),ae("Request file downloaded successfully"),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),re("Unable to download request file");case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},handleDeclineAll:function(){this.showDeclineModal=!0,this.declineReason="",this.declineMultiple=!0},submitReason:function(){this.declineMultiple=!1,this.showDeclineModal=!1,this.declineRequest(this.declineOrderId)},submitReasonForMultiple:function(){this.declineMultiple=!1,this.showDeclineModal=!1,this.declineAll()},handleDecline:function(e){this.declineOrderId=e,this.showDeclineModal=!0,this.declineReason=""},getStatusClass:function(e){switch(e){case"created":return"warning";case"declined":return"danger";case"approved":return"success"}return"primary"}},created:function(){this.fetchAllOrders()}},de=ue,pe=(a("159d"),Object(w["a"])(de,N,L,!1,null,null,null)),me=pe.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{mode:"out-in",name:"fade"}},[!e.loading&&e.signUpList.length?a("b-table",{attrs:{"checked-rows":e.checkedRows,"current-page":e.currentPage,data:e.signUpList,"default-sort-direction":e.defaultSortDirection,"is-row-checkable":function(e){return!0},paginated:e.isPaginated,"pagination-position":e.paginationPosition,"pagination-simple":e.isPaginationSimple,"per-page":e.perPage,"sort-icon":e.sortIcon,"sort-icon-size":e.sortIconSize,checkable:"","checkbox-position":"left"},on:{"update:checkedRows":function(t){e.checkedRows=t},"update:checked-rows":function(t){e.checkedRows=t},"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"name",label:"Name",sortable:""}},[a("div",{staticClass:"has-text-dark is-size-6"},[e._v(" "+e._s(t.row.name)+" ")])]),a("b-table-column",{attrs:{field:"email",label:"Email",sortable:""}},[a("div",{staticClass:"has-text-dark is-size-6"},[e._v(" "+e._s(t.row.email)+" ")])]),a("b-table-column",{attrs:{field:"orgID",label:"Organization Id",sortable:""}},[a("div",{staticClass:"has-text-dark is-size-6"},[e._v(" "+e._s(t.row.orgID)+" ")])]),a("b-table-column",{attrs:{field:"orgName",label:"Organization Name",sortable:""}},[a("div",{staticClass:"has-text-dark is-size-6"},[e._v(" "+e._s(t.row.orgName)+" ")])]),a("b-table-column",{attrs:{label:" "}},[a("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[a("button",{staticClass:"button is-small is-white",attrs:{slot:"trigger"},slot:"trigger"},[a("b-icon",{attrs:{icon:"dots-vertical"}})],1),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(a){return e.approveSignUp(t.row.email)}}},[a("div",{staticClass:"is-flex dropdown-menu-item"},[a("b-icon",{attrs:{icon:"check-circle-outline",type:"is-success"}}),a("span",[e._v("Approve")])],1)]),a("b-dropdown-item",{attrs:{"aria-role":"listitem",disabled:""}},[a("div",{staticClass:"is-flex dropdown-menu-item"},[a("b-icon",{attrs:{icon:"close-circle-outline",type:"is-danger"}}),a("span",[e._v("Decline")])],1)])],1)],1)]}}],null,!1,3848491390)},[a("template",{slot:"bottom-left"},[a("span",{staticClass:"is-size-7 has-text-weight-bold m-r-8"},[e._v("Request per page:")]),a("b-select",{attrs:{placeholder:"Select a character",size:"is-small"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}},e._l([10,25,50],(function(t,r){return a("option",{key:r,domProps:{value:t}},[e._v(e._s(t))])})),0)],1)],2):a("empty-table")],1),a("transition",{attrs:{name:"slideInBottom"}},[e.checkedRows.length>0?a("sign-up-table-action-sheet",{on:{approve:e.approveAll}}):e._e()],1),a("b-modal",{attrs:{active:e.isModalActive,"has-modal-card":""},on:{"update:active":function(t){e.isModalActive=t}}},[a("div",{staticClass:"modal-card"},[a("div",{staticClass:"modal-card-body"},[a("p",{staticClass:"title is-4"},[e._v("Enter Reason")]),a("p",{staticClass:"subtitle"},[e._v("Jeff Atwood")])])])]),a("b-modal",{attrs:{active:e.showProgess,"has-modal-card":""}},[a("div",{staticClass:"modal-card"},[a("div",{staticClass:"modal-card-body is-rounded"},[a("p",{staticClass:"title is-4"},[e._v("Submitting Requests")]),a("b-progress",{attrs:{value:e.reqProgess,"show-value":"",type:"is-success"}},[e._v(" "+e._s(e.reqIndex)+" out of "+e._s(e.checkedRows.length)+" ")])],1)])])],1)},ge=[],be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bottom-sheet"},[e._m(0),a("div",{},[a("div",{staticClass:"buttons"},[a("b-button",{attrs:{"icon-left":"check-circle-outline",type:"is-primary"},on:{click:function(t){return e.$emit("approve")}}},[e._v("Approve Requests")])],1)])])},ve=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("p",{staticClass:"is-size-6 has-text-weight-bold"},[e._v("Select a Bulk Action")]),a("p",{staticClass:"is-size-7"},[e._v(" Action will apply to all the selected items in the list ")])])}],he={name:"SignUpTableActionSheet"},we=he,xe=(a("2d08"),Object(w["a"])(we,be,ve,!1,null,null,null)),Ce=xe.exports,ye={name:"PassRequestTable",components:{SignUpTableActionSheet:Ce,EmptyTable:ce},data:function(){var e=localStorage.getItem("signUpList");return e&&(e=JSON.parse(e)),{signUpList:e||[],checkedRows:[],loading:!1,isModalActive:!1,isPaginated:!0,isPaginationSimple:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,reqIndex:1,showProgess:!1}},computed:{reqProgess:function(){return Math.ceil(this.reqIndex/this.checkedRows.length*100)}},methods:{fetchSignUpRequests:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,f.getSignUpRequests();case 4:a=t.sent,r=a.data,e.signUpList=r.accounts,localStorage.setItem("signUpList",JSON.stringify(r.accounts)),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),re("Unable to fetch requests");case 13:e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},approveSignUp:function(e){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.approveAccount(e);case 3:return a.next=5,t.fetchSignUpRequests();case 5:ae("Request Approved!"),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),re("Unable to approve request");case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},approveAll:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e.showProgess=!0,a=e.checkedRows.map((function(e){return e.email})),r=0;case 4:if(!(r<a.length)){t.next=12;break}return e.reqIndex=r+1,s=a[r],t.next=9,f.approveAccount(s);case 9:r++,t.next=4;break;case 12:return t.next=14,e.fetchSignUpRequests();case 14:e.checkedRows=[],e.showProgess=!1,ae("All Request Approved!"),t.next=24;break;case 19:t.prev=19,t.t0=t["catch"](0),e.showProgess=!1,e.checkedRows=[],re("Unable to approve requests");case 24:case"end":return t.stop()}}),t,null,[[0,19]])})))()}},created:function(){this.fetchSignUpRequests()}},ke=ye,Ae=Object(w["a"])(ke,fe,ge,!1,null,"0849d9c0",null),Re=Ae.exports,Pe={name:"OrganizationTabItem",components:{PassRequestTable:me,SignUpRequestTable:Re},data:function(){return{signUpList:[],requestType:"pass"}},mounted:function(){}},Oe=Pe,_e=(a("25ea"),Object(w["a"])(Oe,U,z,!1,null,null,null)),Ie=_e.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"is-flex jc-space-between"},[a("div",{staticClass:"is-flex"},[a("b-button",{attrs:{"icon-left":"cog"}},[e._v("Auto-approval settings")])],1),a("div",{staticClass:"is-flex"},[a("b-field",{attrs:{grouped:""}},[a("p",{staticClass:"control"},[a("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"},scopedSlots:e._u([{key:"trigger",fn:function(t){var r=t.active;return a("button",{staticClass:"button"},[a("span",[e._v("Filter")]),a("b-icon",{attrs:{icon:r?"menu-up":"menu-down"}})],1)}}])},[a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[e._v("Action")]),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[e._v("Another action")]),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[e._v("Something else")])],1)],1),a("b-field",[a("b-input",{attrs:{icon:"magnify","icon-clickable":"",placeholder:"Search...",type:"search"}})],1)],1)],1)]),a("br"),a("b-table",{attrs:{"checked-rows":e.checkedRows,"current-page":e.currentPage,data:e.data,"default-sort-direction":e.defaultSortDirection,"is-row-checkable":function(e){return!0},paginated:e.isPaginated,"pagination-position":e.paginationPosition,"pagination-simple":e.isPaginationSimple,"per-page":e.perPage,"sort-icon":e.sortIcon,"sort-icon-size":e.sortIconSize,checkable:"","checkbox-position":"left"},on:{"update:checkedRows":function(t){e.checkedRows=t},"update:checked-rows":function(t){e.checkedRows=t},"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"createAt",label:"Raised on",sortable:""}},[a("div",{staticClass:"has-text-dark is-size-6"},[e._v(" "+e._s(e._f("formatDate")(t.row.createAt))+" ")]),a("div",{staticClass:"has-text-grey is-size-6"},[e._v(" "+e._s(e._f("formatTime")(t.row.createAt))+" ")])]),a("b-table-column",{attrs:{field:"organization",label:"Organization",sortable:""}},[e._v(e._s(t.row.organization))]),a("b-table-column",{attrs:{field:"email",label:"Contact Email",sortable:""}},[a("div",{staticClass:"has-text-dark is-size-6"},[e._v(" "+e._s(t.row.email)+" ")])]),a("b-table-column",{attrs:{field:"type",label:"Pass Type",sortable:""}},[e._v(" "+e._s(t.row.type)+" ")]),a("b-table-column",{attrs:{field:"passCount",label:"No. of Passes",numeric:"",sortable:""}},[e._v(e._s(t.row.passCount))]),a("b-table-column",{attrs:{field:"status",label:"Status",sortable:""}},[e._v(" "+e._s(t.row.status)+" ")]),a("b-table-column",{attrs:{label:" "}},[a("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[a("button",{staticClass:"button is-small is-white",attrs:{slot:"trigger"},slot:"trigger"},[a("b-icon",{attrs:{icon:"dots-vertical"}})],1),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("div",{staticClass:"is-flex dropdown-menu-item"},[a("b-icon",{attrs:{icon:"check-circle-outline",type:"is-success"}}),a("span",[e._v("Approve")])],1)]),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("div",{staticClass:"is-flex dropdown-menu-item"},[a("b-icon",{attrs:{icon:"close-circle-outline",type:"is-danger"}}),a("span",[e._v("Decline")])],1)])],1)],1)]}}])},[a("template",{slot:"bottom-left"},[a("span",{staticClass:"is-size-7 has-text-weight-bold m-r-8"},[e._v("Request per page:")]),a("b-select",{attrs:{placeholder:"Select a character",size:"is-small"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}},e._l([10,25,50],(function(t,r){return a("option",{key:r,domProps:{value:t}},[e._v(e._s(t))])})),0)],1)],2)],1)},Se=[],je=(a("cb29"),a("fb6a"),a("25f0"),{name:"IndividualTabItem",data:function(){var e=Array(48).fill(0).map((function(e){return{id:Math.random().toString().slice(2),createAt:Date.now(),organization:"Swiggy",email:"swiggy@gmail.com",type:"individual",passCount:20+e,status:"Pending"}}));return{data:e,checkedRows:[],isModalActive:!1,isPaginated:!0,isPaginationSimple:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10}},filters:{formatDate:function(e){return ee()(new Date(e)).format("DD MMM YY")},formatTime:function(e){return ee()(new Date(e)).format("hh:mm A")}}}),Ee=je,Te=Object(w["a"])(Ee,De,Se,!1,null,null,null),qe=Te.exports,Ue={components:{AppHeader:q,OrganizationTabItem:Ie,IndividualTabItem:qe}},ze=Ue,Ne=(a("b985"),Object(w["a"])(ze,_,I,!1,null,null,null)),Le=Ne.exports,Me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sign-up-container"},[r("div",{staticClass:"columns"},[r("div",{staticClass:"column full-height is-three-fifths"},[r("div",{staticClass:"sign-up-info-container full-height"},[r("img",{staticClass:"logo",attrs:{alt:"",src:a("cf05"),width:"120"}}),r("div",{staticClass:"title is-5"},[e._v(e._s(e.typeText))]),e._m(0)])]),r("div",{staticClass:"column full-height"},[r("div",{staticClass:"sign-up-form-container full-height"},[r("login-form")],1)])])])},Qe=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-bg"},[r("img",{attrs:{alt:"",src:a("856c")}})])}],Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.registered?a("div",{staticClass:"login-form"},[a("div",{staticClass:"title"},[e._v("Login")]),a("section",[a("form",{on:{submit:function(e){e.preventDefault(),e.stopPropagation()}}},[a("b-field",{attrs:{message:e.error.email,type:{"is-danger":!!e.error.email},label:"Email"}},[a("b-input",{attrs:{type:"email"},on:{blur:e.validateEmail,focus:function(t){e.error.email=""}},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),a("b-field",{attrs:{message:e.error.pass,type:{"is-danger":!!e.error.pass},label:"Enter Password"}},[a("b-input",{attrs:{"password-reveal":"",type:"password"},on:{blur:e.validatePassword,focus:function(t){e.error.pass=""}},model:{value:e.user.pass,callback:function(t){e.$set(e.user,"pass",t)},expression:"user.pass"}})],1),e.apiError?a("div",{staticClass:"has-text-danger has-text-weight-semibold"},[e._v(" "+e._s(e.apiError)+" ")]):e._e(),a("div",{staticClass:"buttons m-y-48"},[a("b-button",{staticClass:"has-text-weight-bold",attrs:{disabled:e.loading,loading:e.loading,expanded:"","native-type":"submit",type:"is-primary"},on:{click:e.login}},[e._v("Login")])],1)],1)])]):a("register-form",{on:{registered:function(t){e.registered=!0}}})},Fe=[],Ve=(a("c975"),a("498a"),a("15fd")),Ke=function(e){var t=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i;return t.test(e)},Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.openOTP?a("verify-otp-form",{attrs:{emailId:e.user.email},on:{verfied:function(t){return e.$emit("registered")}}}):a("div",{staticClass:"register-form"},[a("div",{staticClass:"title"},[e._v("Register")]),a("section",[a("form",{on:{submit:function(e){e.preventDefault(),e.stopPropagation()}}},[a("b-field",{attrs:{message:e.error.orgName,type:{"is-danger":!!e.error.orgName},label:"Organization name"}},[a("b-input",{attrs:{type:"text"},on:{blur:e.validateOrgName,focus:function(t){e.error.orgName=""}},model:{value:e.user.orgName,callback:function(t){e.$set(e.user,"orgName",t)},expression:"user.orgName"}})],1),a("b-field",{attrs:{message:e.error.orgId,type:{"is-danger":!!e.error.orgId},label:"Organization ID"}},[a("b-input",{attrs:{type:"text"},on:{blur:e.validateOrgId,focus:function(t){e.error.orgId=""}},model:{value:e.user.orgId,callback:function(t){e.$set(e.user,"orgId",t)},expression:"user.orgId"}})],1),a("b-field",{attrs:{message:e.error.name,type:{"is-danger":!!e.error.name},label:"Your name"}},[a("b-input",{attrs:{type:"text"},on:{blur:e.validateName,focus:function(t){e.error.name=""}},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),a("b-field",{attrs:{message:e.error.email,type:{"is-danger":!!e.error.email},label:"Official / Organization Email"}},[a("b-input",{attrs:{type:"email"},on:{blur:e.validateEmail,focus:function(t){e.error.email=""}},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),a("b-field",{attrs:{message:e.error.pass,type:{"is-danger":!!e.error.pass},label:"Enter Password"}},[a("b-input",{attrs:{"password-reveal":"",type:"password"},on:{blur:e.validatePassword,focus:function(t){e.error.pass=""}},model:{value:e.user.pass,callback:function(t){e.$set(e.user,"pass",t)},expression:"user.pass"}})],1),a("b-field",{attrs:{message:e.error.cpass,type:{"is-danger":!!e.error.cpass},label:"Confirm Password"}},[a("b-input",{attrs:{"password-reveal":"",type:"password"},on:{blur:e.confimPassword,focus:function(t){e.error.cpass=""}},model:{value:e.user.cpass,callback:function(t){e.$set(e.user,"cpass",t)},expression:"user.cpass"}})],1),a("div",{staticClass:"buttons m-y-48"},[a("b-button",{staticClass:"has-text-weight-bold",attrs:{disabled:e.loading,loading:e.loading,expanded:"","native-type":"submit",type:"is-primary"},on:{click:e.register}},[e._v("Register")])],1)],1)])])},Je=[],Ge=(a("45fc"),a("b64b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"verify-otp-form"},[a("div",{staticClass:"title"},[e._v("Enter OTP")]),a("div"),a("div",{staticClass:"subtitle is-6"},[e._v(" Enter OTP sent to: "),a("span",[e._v(e._s(e.emailId))])]),a("section",[a("form",{on:{submit:function(e){e.preventDefault(),e.stopPropagation()}}},[a("b-field",{attrs:{message:e.error.otp,type:{"is-danger":!!e.error.otp},label:"Enter 6 digit OTP"}},[a("b-input",{attrs:{maxlength:"6",type:"number"},on:{blur:e.validateOTP,focus:function(t){e.error.otp=""}},model:{value:e.user.otp,callback:function(t){e.$set(e.user,"otp",t)},expression:"user.otp"}})],1),a("div",{staticClass:"buttons m-y-48"},[a("b-button",{staticClass:"has-text-weight-bold",attrs:{disabled:e.loading,loading:e.loading,expanded:"","native-type":"submit",type:"is-primary"},on:{click:e.login}},[e._v("Verify email")])],1)],1),a("br"),e._m(0),a("br"),e._m(1)])])}),He=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"is-size-6"},[a("span",{staticClass:"m-r-8"},[e._v("Didnâ€™t receive the OTP?")]),a("a",{staticClass:"has-text-weight-semibold"},[e._v("Resend OTP")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"is-size-6"},[a("span",{staticClass:"m-r-8"},[e._v("Incorrect email?")]),a("a",{staticClass:"has-text-weight-semibold"},[e._v("Change email")])])}],We={name:"VerifyOTPForm",props:{emailId:String},components:{},data:function(){return{user:{otp:""},error:{otp:""},loading:!1}},methods:{validateOTP:function(){this.error.otp="",this.user.otp?6!==this.user.otp.length&&(this.error.otp="Invalid OTP"):this.error.otp="Please enter otp"},isValid:function(){return this.validateOTP(),!this.error.otp},login:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isValid()){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,f.verifyOTP({emailId:e.emailId,otp:e.user.otp.trim()});case 6:e.loading=!1,e.$emit("verfied"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()}}},Ze=We,Xe=(a("9e22"),Object(w["a"])(Ze,Ge,He,!1,null,null,null)),$e=Xe.exports,et={name:"RegistrationForm",components:{"verify-otp-form":$e},data:function(){return{user:{orgName:"",orgId:"",name:"",email:"",pass:"",cpass:""},error:{orgName:"",orgId:"",name:"",email:"",pass:"",cpass:""},loading:!1,openOTP:!1}},methods:{validateEmail:function(){this.error.email="",this.user.email?Ke(this.user.email.trim())||(this.error.email="Invalid email address"):this.error.email="Please enter email id"},validatePassword:function(){this.error.pass="",this.user.pass||(this.error.pass="Please enter password")},validateOrgName:function(){this.error.orgName="",this.user.orgName||(this.error.orgName="Please enter organization name")},validateName:function(){this.error.name="",this.user.name||(this.error.name="Please enter your name")},validateOrgId:function(){this.error.orgId="",this.user.orgId||(this.error.orgId="Please enter organization id")},confimPassword:function(){this.error.cpass="",this.user.cpass?this.user.cpass!==this.user.pass&&(this.error.cpass="Password does not match!"):this.error.cpass="Please re-enter password"},isValid:function(){var e=this;return this.validateName(),this.validateOrgName(),this.validateOrgId(),this.validateEmail(),this.validatePassword(),this.confimPassword(),!Object.keys(this.error).some((function(t){return!!e.error[t]}))},register:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isValid()){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,a=e.user,r=a.name,s=a.email,n=a.pass,i=a.orgId,o=a.orgName,t.next=7,f.createAccount({email:s.trim(),name:r.trim(),password:n.trim(),orgName:o.trim(),orgID:i.trim()});case 7:e.loading=!1,e.openOTP=!0,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()}}},tt=et,at=(a("9bcf"),Object(w["a"])(tt,Ye,Je,!1,null,null,null)),rt=at.exports,st={name:"LoginForm",components:{RegisterForm:rt},data:function(){return{registered:!0,user:{email:"",pass:""},error:{email:"",pass:""},loading:!1,apiError:null}},methods:{validateEmail:function(){this.error.email="",this.user.email?Ke(this.user.email.trim())||(this.error.email="Invalid email address"):this.error.email="Please enter email id"},validatePassword:function(){this.error.pass="",this.user.pass||(this.error.pass="Please enter password")},isValid:function(){return this.validateEmail(),this.validatePassword(),!this.error.email&&!this.error.pass},login:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isValid()){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,f.signIn(e.user.email.trim(),e.user.pass.trim());case 6:a=t.sent,r=a.data,e.loading=!1,s=r.authToken,n=Object(Ve["a"])(r,["authToken"]),n.email=e.user.email,localStorage.setItem(l,s),localStorage.setItem("userInfo",JSON.stringify(n)),localStorage.setItem("expiry",ee()(new Date).add(1,"day")),e.$router.replace("/"),t.next=22;break;case 17:t.prev=17,t.t0=t["catch"](3),e.loading=!1,e.apiError="Something went wrong",t.t0&&t.t0.response&&t.t0.response.data.message&&(i="Error Creating accountjava.lang.RuntimeException:",t.t0.response.data.message.indexOf(i)>-1&&(e.apiError=t.t0.response.data.message.replace(i,"")),t.t0.response.data.message.indexOf("No account for email")>-1&&(e.apiError="Account with email: ".concat(e.user.email," does not exist")));case 22:case"end":return t.stop()}}),t,null,[[3,17]])})))()}}},nt=st,it=(a("5d31"),Object(w["a"])(nt,Be,Fe,!1,null,null,null)),ot=it.exports,lt={name:"SignUp",components:{LoginForm:ot},data:function(){return{welcomeText:"Verify and issue commute passes to authorised people during the COVID pandemic",typeText:""}},mounted:function(){var e=this,t=0,a=setInterval((function(){e.welcomeText.length===e.typeText.length||t>e.welcomeText.length?clearInterval(a):(e.typeText=e.welcomeText.slice(0,t),t++)}),30)},created:function(){localStorage.clear()}},ct=lt,ut=(a("0079"),Object(w["a"])(ct,Me,Qe,!1,null,null,null)),dt=ut.exports;r["a"].use(O["a"]);var pt=[{path:"/",name:"Dashboard",component:Le},{path:"/signup",name:"SignUp",component:dt}],mt=new O["a"]({routes:pt}),ft=mt,gt=a("2f62");r["a"].use(gt["a"]);var bt=new gt["a"].Store({state:{},mutations:{},actions:{},modules:{}}),vt=(a("4160"),a("466d"),a("159b"),a("ddb0"),a("a925"));function ht(){var e=a("49f8"),t={};return e.keys().forEach((function(a){var r=a.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var s=r[1];t[s]=e(a)}})),t}r["a"].use(vt["a"]);var wt=new vt["a"]({locale:"en",fallbackLocale:"en",messages:ht()}),xt=(a("b107"),a("289d"));r["a"].use(xt["a"]),r["a"].config.productionTip=!1,new r["a"]({router:ft,store:bt,i18n:wt,render:function(e){return e(R)}}).$mount("#app")},"5d31":function(e,t,a){"use strict";var r=a("6c45"),s=a.n(r);s.a},6795:function(e,t,a){},"6c45":function(e,t,a){},"749f":function(e,t,a){},"7b0e":function(e,t,a){"use strict";var r=a("c5a5"),s=a.n(r);s.a},"856c":function(e,t,a){e.exports=a.p+"img/login-bg.423d5a42.png"},"8d79":function(e,t,a){"use strict";var r=a("749f"),s=a.n(r);s.a},"9a02":function(e,t,a){},"9bcf":function(e,t,a){"use strict";var r=a("1cff"),s=a.n(r);s.a},"9e22":function(e,t,a){"use strict";var r=a("5313"),s=a.n(r);s.a},b088:function(e,t,a){"use strict";var r=a("26f9"),s=a.n(r);s.a},b107:function(e,t,a){},b154:function(e,t,a){"use strict";var r=a("9a02"),s=a.n(r);s.a},b985:function(e,t,a){"use strict";var r=a("de7f"),s=a.n(r);s.a},c5a5:function(e,t,a){},cf05:function(e,t){e.exports="data:image/png;base64,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"},de7f:function(e,t,a){},edd4:function(e){e.exports=JSON.parse('{"message":"hello i18n !!"}')},fda3:function(e,t,a){"use strict";var r=a("1f33"),s=a.n(r);s.a}});
//# sourceMappingURL=app.b0f83a2d.js.map